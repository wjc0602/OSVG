echo "train_and_eval_sup.sh"
# train
## # RefCOCO unc
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28887 --use_env train_clip_vg.py --num_workers 4 --epochs 110 --batch_size 64 --lr 0.00025  --lr_scheduler cosine --aug_crop --aug_scale --aug_translate    --imsize 224 --max_query_len 77  --sup_type full --dataset unc      --data_root /path_to_image_data --split_root /path_to_split --output_dir /path_to_output/unc;
# # # RefCOCO+ unc+
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28887 --use_env train_clip_vg.py --num_workers 4 --epochs 110 --batch_size 64 --lr 0.00025  --lr_scheduler cosine --aug_crop --aug_scale --aug_translate    --imsize 224 --max_query_len 77  --sup_type full --dataset unc+     --data_root /path_to_image_data --split_root /path_to_split --output_dir /path_to_output/unc+;
# # # RefCOCOg gref
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28887 --use_env train_clip_vg.py --num_workers 4 --epochs 110 --batch_size 64 --lr 0.00025  --lr_scheduler cosine --aug_crop --aug_scale --aug_translate    --imsize 224 --max_query_len 77  --sup_type full --dataset gref     --data_root /path_to_image_data --split_root /path_to_split --output_dir /path_to_output/gref;
# # # RefCOCOg gref_umd
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28887 --use_env train_clip_vg.py --num_workers 4 --epochs 110 --batch_size 64 --lr 0.00025  --lr_scheduler cosine --aug_crop --aug_scale --aug_translate    --imsize 224 --max_query_len 77  --sup_type full --dataset gref_umd --data_root /path_to_image_data --split_root /path_to_split --output_dir /path_to_output/gref_umd;
# ReferItGame
CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28887 --use_env train_clip_vg.py --num_workers 4 --epochs 110 --batch_size 64 --lr 0.00025  --lr_scheduler cosine --aug_crop --aug_scale --aug_translate    --imsize 224 --max_query_len 77  --sup_type full --dataset referit  --data_root /path_to_image_data --split_root /path_to_split --output_dir /path_to_output/referit;
# flickr
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28887 --use_env train_clip_vg.py --num_workers 4 --epochs 110 --batch_size 64 --lr 0.00025  --lr_scheduler cosine --aug_crop --aug_scale --aug_translate    --imsize 224 --max_query_len 77  --sup_type full --dataset flickr   --data_root /path_to_image_data --split_root /path_to_split --output_dir /path_to_output/flickr;

# eval :
# # RefCOCO unc
# python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset unc      --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/unc/best_checkpoint.pth      --eval_set val   --output_dir /path_to_output/unc;
# python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset unc      --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/unc/best_checkpoint.pth      --eval_set testA --output_dir /path_to_output/unc;
# python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset unc      --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/unc/best_checkpoint.pth      --eval_set testB --output_dir /path_to_output/unc;
# ## RefCOCO+ unc+
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset unc+     --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/unc+/best_checkpoint.pth     --eval_set val   --output_dir /path_to_output/unc+;
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset unc+     --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/unc+/best_checkpoint.pth     --eval_set testA --output_dir /path_to_output/unc+;
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset unc+     --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/unc+/best_checkpoint.pth     --eval_set testB --output_dir /path_to_output/unc+;
# ## gref
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset gref     --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/gref/best_checkpoint.pth     --eval_set val   --output_dir /path_to_output/gref;
# ## gref_umd
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset gref_umd --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/gref_umd/best_checkpoint.pth --eval_set val   --output_dir /path_to_output/gref_umd;
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset gref_umd --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/gref_umd/best_checkpoint.pth --eval_set test  --output_dir /path_to_output/gref_umd;
# ## ReferItGame
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset referit  --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/referit/best_checkpoint.pth  --eval_set val   --output_dir /path_to_output/referit;
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset referit  --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/referit/best_checkpoint.pth  --eval_set test  --output_dir /path_to_output/referit;
# ## flickr
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset flickr   --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/flickr/best_checkpoint.pth   --eval_set val   --output_dir /path_to_output/flickr;
# CUDA_VISIBLE_DEVICES=3,4,5,6,7 python -m torch.distributed.launch --nproc_per_node=5 --master_port 28888 --use_env eval.py --num_workers 4 --batch_size 128  --dataset flickr   --imsize 224 --max_query_len 77 --data_root /path_to_image_data --split_root /path_to_split --eval_model /path_to_output/flickr/best_checkpoint.pth   --eval_set test  --output_dir /path_to_output/flickr;



